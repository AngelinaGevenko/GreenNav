<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../google-map/google-map.html">
<link rel="import" href="../osm-map/osm-map.html">
<!--
    
Maps are canvases on which the geographical maps get displayed via any given source.
Features like markers, polygons or polylines can be attached to the map.

@demo
-->

<dom-module id="gn-map">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        height: 100%;
      }
    </style>

    <template is="dom-if" if="{{ typeIsOpenStreetMap(mapType) }}">
      <osm-map longitude="{{ longitude }}" latitude="{{ latitude }}" zoom="{{ zoom }}">
        <content></content>
      </osm-map>
    </template>

    <template is="dom-if" if="{{ typeIsGoogleMap(mapType) }}">
      <google-map longitude="{{ longitude }}" latitude="{{ latitude }}" zoom="{{ zoom }}">
        <content></content>
      </google-map>
    </template>

  </template>
<script>
  Polymer({
    is: 'gn-map',

    properties: {
      /**
       * A latitude to center the map on.
       */
      latitude: {
        type: Number,
        notify: true,
        value: 53.834089,
        reflectToAttribute: true
      },

      /**
       * A longitude to center the map on.
       */
      longitude: {
        type: Number,
        notify: true,
        value: 10.703718,
        reflectToAttribute: true
      },

      /**
       * A zoom level which will be applied to the map.
       */
      zoom: {
        type: Number,
        value: 11,
        notify: true,
        reflectToAttribute: true
      },

      /**
       * The map-type is bind by dom-if template to include different type of maps
       * Possible values are "GoogleMap" or "OpenStreetMap".
       */
      mapType: {
        type: String,
        value:"GoogleMap",
        notify: true
      },

      /**
       * Holds the map object and allows to modify values during runtime
       */
      map: {
        type: Object
      } 
    },

    typeIsOpenStreetMap: function(mapType) {
        return mapType === 'OpenStreetMap';
    },

    typeIsGoogleMap: function(mapType) {      
        return mapType === 'GoogleMap';
    }
  });
</script>

</dom-module>